{
  "hash": "3f1cf0a27de1e192321045c7c990f4fd",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"What are we modeling? Using predictive fit to inform effect metric choice in meta-analysis\"\nauthor: \"James E. Pustejovsky\"\ndate: \"October 9, 2025\"\ntitle-slide-attributes:\n  data-background-image: images/ruler.jpg\n  data-background-size: cover\n  data-background-opacity: \"35%\"\nexecute:\n  echo: false\n  message: false\n  warning: false\nformat: \n  revealjs:\n    center-title-slide: true\n    math: true\n    html-math-method: mathjax\n    reference-location: document\n    slide-number: true\n    chalkboard: \n      buttons: false\n    css: styles.css\n    theme: [simple, mytheme.scss]\neditor: source\nfrom: markdown+emoji\nbibliography: \"references.bib\"\ncsl: nature.csl\n---\n\n\n## {.center}\n\n\n::: {.cell}\n\n:::\n\n\n### Research Synthesis\n\n> The systematic integration of empirical results across __multiple sources of evidence__, for purposes of drawing generalizations [@Cooper2009research]. \n\n<br>\n\n### Meta-Analysis\n\n> Statistical models and methods to support quantitative research synthesis. \n\n## Fields that rely on research synthesis\n\n* Medicine (Cochrane Collaboration)\n* Education (What Works Clearinghouse)\n* Psychology\n* Social policy (justice, welfare, public health, etc.)\n* Economics, international development\n* Ecology and Environmental Science\n* Physical sciences\n\n## {background=\"#43464B\" .center}\n\n- Some background on meta-analysis\n\n- The problem of effect metric choice\n\n- Proposal: Use predictive fit criteria to inform metric choice\n\n- Illustrations\n\n- Discussion\n\n## Canonical Meta-Analysis\n\n- We observe summary results from each of $k$ studies:\n\n    - $T_i$ - effect size estimate \n    \n    - $se_i$ - standard error of effect size estimate\n    \n    - $N_i$, $\\mathbf{x}_i$ - sample size, other study features\n\n:::: {.columns}\n::: {.fragment .column width=\"50%\"}\n\n- A summary random effects model:\n    $$\n    \\begin{aligned}\n    T_i &\\sim N\\left(\\theta_i, \\ se_i^2 \\right)  \\\\\n    \\theta_i &\\sim N\\left(\\mu, \\ \\tau^2\\right)\n    \\end{aligned}\n    $$\n\n:::\n\n::: {.fragment .column width=\"50%\"}\n\n- A random effects meta-regression:\n    $$\n    \\begin{aligned}\n    T_i &\\sim N\\left(\\theta_i, \\ se_i^2 \\right)  \\\\\n    \\theta_i &\\sim N\\left(\\mathbf{x}_i \\boldsymbol\\beta,\\ \\tau^2\\right)\n    \\end{aligned}\n    $$\n:::\n\n::::\n\n:::: {.fragment}\n\n- \"Conceptual unity of statistical methods\" for meta-analysis [@Hedges2019statistical] suggests that most any effect size measure $\\theta_i$ can be used, as long as $T_i \\dot{\\sim} N\\left(\\theta_i, \\ se_i^2 \\right)$.\n\n::::\n\n## Prediction Interval\n\n- An approximate $1 - 2\\alpha$ prediction interval for a new study-specific parameter $\\theta_{new}$ [@Higgins2009reevaluation]:\n\n  $$\n  \\hat\\mu \\ \\pm \\ q_\\alpha \\times\\sqrt{\\hat\\tau^2 + \\mathbb{V}\\left(\\hat\\mu\\right)}\n  $$\n\n  - Largely used to characterize the extent of effect heterogeneity [@borenstein2017basics].\n  \n::: {.fragment}\n- Beyond this, \"predictive modeling\" culture [@Breiman2001statistical; @Donoho2017fifty]  seems to have very little influence on meta-analysis. \n:::\n\n## Effect Metric Menagerie {.center background-image=\"images/menagerie.jpg\" background-size=\"cover\" background-opacity=\"50%\"}\n\n## Effect Metric Families\n\n::::: {.columns}\n\n:::: {.column width=\"48%\" .callout-tip icon=false .fragment}\n\n## Single-group summaries\n\n- Raw proportions $\\pi$\n- Arcsine-transformation $a = \\text{asin}\\left(\\sqrt{\\pi}\\right)$\n- Raw means $\\mu$\n\n:::: \n\n:::: {.column width=\"48%\" .callout-note icon=false .fragment}\n\n## Bivariate associations / psychometric\n\n- Pearson's correlation $\\rho$\n- Fisher's $z$-transformation $\\zeta = \\text{atanh}(\\rho)$\n- Cronbach's $\\alpha$ coefficients (or transformations thereof)\n\n::::\n\n::::: \n\n::::: {.columns}\n\n:::: {.column width=\"48%\"}\n\n::: {.callout-warning icon=false .fragment}\n\n## Group comparison of binary outcomes\n\n- Risk differences $\\pi_1 - \\pi_0$\n- Risk ratios (log-transformed) $\\log\\left(\\frac{\\pi_1}{\\pi_0}\\right)$\n- Odds ratios (log-transformed) $\\log\\left(\\frac{\\pi_1 / (1 - \\pi_1)}{\\pi_0 / (1 - \\pi_0)}\\right)$\n- Bivariate models for $\\pi_0, \\pi_1$\n\n:::\n::::\n\n:::: {.column width=\"48%\"}\n\n::: {.callout-important icon=false .fragment}\n\n## Group comparison of continuous outcomes\n\n- Raw mean differences $\\mu_1 - \\mu_0$\n- Standardized mean differences $\\delta = \\frac{\\mu_1 - \\mu_0}{\\sigma}$\n- Response ratios (log-transformed) $\\lambda = \\log\\left(\\frac{\\mu_1}{\\mu_0}\\right)$\n- Probability of superiority\n\n:::\n\n::::\n\n:::::\n\n## Effect Metric Choice\n\n- Choice of metric is constrained by\n\n    - Studies designs\n    \n    - Data availability, reporting conventions\n    \n    - Heterogeneity of study features (e.g., outcome scales)\n\n::: {.fragment}\n\n- In many applications, more than one metric could apply.\n\n    - Choice is often driven by disciplinary conventions.\n    \n:::\n\n## Metric choice studies\n\n- Large literature on effect metrics for group comparison on binary outcomes.\n\n    - Theoretical arguments about interpretability, stability, non-collapsibility [@Poole2015risk; @Panagiotou2015commentary].\n    \n    - Risk differences tend to be more heterogeneous [@Engels2000heterogeneity; @Zhao2022empirical].\n\n::: {.fragment}\n- Strong opinions about effect metrics for group comparison on continuous outcomes [@Cummings2011arguments].\n\n    - Some novel alternatives to avoid standarization [@Ades2015simultaneous; @Lu2014simultaneous; @Davies2024mapping].\n    \n    - Various methods for standardization [e.g., @Hopkins2024standardization; @Fitzgerald2025using].\n\n:::\n\n::: {.fragment}\n- Choice between standardized mean difference and response ratio metrics\n\n    - Sensitivity analyses using both metrics [@Friedrich2011ratio].\n\n    - Model both metrics simultaneously [@Yang2024bivariate].\n\n:::\n\n## Can we choose based on predictive fit criteria?\n\n- Evaluate effect metrics by performance in __predicting summary data for a new study__.\n\n    - Data vector $\\mathbf{d}_i$ consisting of summary statistics used to compute effect size estimates.\n    \n- Use leave-one-out log-predictive density to measure predictive performance.\n  $$\n  LPD = \\frac{1}{k} \\sum_{i=1}^{k} \\log p_\\mathbf{D}\\left(\\mathbf{d}_i \\left| \\hat\\mu_{(-i)}, \\hat\\tau_{(-i)}, \\mathbf{X}_i, N_i\\right.\\right)\n  $$\n\n::: {.fragment}\n### Two challenges\n\n1. Polishing up models to generate predictions.\n\n2. Meta-analysis models one-dimensional $f(\\mathbf{d}_i)$, so we need auxiliary models for the rest of the data.\n\n:::\n\n## Class attendance and college grades {.smaller}\n\n::::: {.columns}\n:::: {.column width=\"40%\"}\n\n- Cred√© and colleagues [@Crede2010class] reported a systematic review and meta-analysis of studies on association between class attendance and grades / GPA in college.\n\n- 99 correlation estimates, samples ranging from $N_i = 23$ to $3900$ (median = 151, IQR = 76-335).\n\n::::\n\n:::: {.column width=\"60%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](ES-metrics-UW-Stats-2025-10-9_files/figure-revealjs/Crede-funnel-1.png){width=100%}\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n::: {.fragment}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](ES-metrics-UW-Stats-2025-10-9_files/figure-revealjs/unnamed-chunk-2-1.png){width=100%}\n:::\n:::\n\n\n:::\n::::\n:::::\n\n## Bivariate associations {.smaller}\n\n- The data: Pearson correlation between two variables of interest from a sample of $N_i$ observations, $r_i$.\n\n:::: {.columns}\n::: {.column width=\"49%\"}\n### $\\rho$ metric\n\n- Effect size estimate $r_i$, standard error $\\displaystyle{se_i = \\frac{1 - r_i^2}{\\sqrt{N_i}}}$\n\n- The motivating model:\n  $$\n  \\begin{aligned}\n  r_i &\\dot{\\sim} \\ N\\left(\\rho_i, \\ \\frac{(1 - \\rho_i^2)^2}{N_i}\\right) \\\\\n  \\rho_i &\\sim \\ N_{trunc}\\left(\\mu_\\rho, \\ \\tau_\\rho^2\\right)\n  \\end{aligned}\n  $$\n\n:::\n::: {.fragment .column width=\"49%\"}\n### $\\zeta = \\text{atanh}(\\rho)$ metric\n\n- Effect size estimate $z_i = \\text{atanh}(r_i)$, standard error $\\displaystyle{se_i = \\frac{1}{\\sqrt{N_i - 3}}}$\n\n- The motivating model:\n  $$\n  \\begin{aligned}\n  z_i &\\dot{\\sim} \\ N\\left(\\zeta_i, \\ \\frac{1}{N_i - 3}\\right) \\\\\n  \\zeta_i &\\sim \\ N\\left(\\mu_\\zeta, \\ \\tau_\\zeta^2\\right)\n  \\end{aligned}\n  $$\n- log-predictive density:\n  $$\\begin{eqnarray}\n  \\log &d_r&(r_i | \\hat\\mu_{\\zeta (-i)}, \\hat\\tau_{\\zeta (-i)}, N_i) \\\\\n  &=& \\log d_z\\left(z_i \\left| \\hat\\mu_{\\zeta (-i)}, \\hat\\tau_{\\zeta (-i)}, N_i \\right.\\right) - \\log\\left(1 - r_i^2\\right)\n  \\end{eqnarray}$$\n:::\n::::\n\n## Predictive fit {.smaller}\n\n:::: {.columns}\n\n::: {.column width=\"55%\"}\n\n### Metric comparison\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<!-- preamble start -->\n\n    <script>\n\n      function styleCell_cjknegnhpw50ola5uzmf(i, j, css_id) {\n          var table = document.getElementById(\"tinytable_cjknegnhpw50ola5uzmf\");\n          var cell = table.rows[i]?.cells[j];  // Safe navigation to avoid errors\n          if (cell) {\n              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);\n              cell.classList.add(css_id);\n          } else {\n              console.warn(`Cell at (${i}, ${j}) not found.`);\n          }\n      }\n      function insertSpanRow(i, colspan, content) {\n        var table = document.getElementById('tinytable_cjknegnhpw50ola5uzmf');\n        var newRow = table.insertRow(i);\n        var newCell = newRow.insertCell(0);\n        newCell.setAttribute(\"colspan\", colspan);\n        // newCell.innerText = content;\n        // this may be unsafe, but innerText does not interpret <br>\n        newCell.innerHTML = content;\n      }\n      function spanCell_cjknegnhpw50ola5uzmf(i, j, rowspan, colspan) {\n        var table = document.getElementById(\"tinytable_cjknegnhpw50ola5uzmf\");\n        const targetRow = table.rows[i];\n        const targetCell = targetRow.cells[j];\n        for (let r = 0; r < rowspan; r++) {\n          // Only start deleting cells to the right for the first row (r == 0)\n          if (r === 0) {\n            // Delete cells to the right of the target cell in the first row\n            for (let c = colspan - 1; c > 0; c--) {\n              if (table.rows[i + r].cells[j + c]) {\n                table.rows[i + r].deleteCell(j + c);\n              }\n            }\n          }\n          // For rows below the first, delete starting from the target column\n          if (r > 0) {\n            for (let c = colspan - 1; c >= 0; c--) {\n              if (table.rows[i + r] && table.rows[i + r].cells[j]) {\n                table.rows[i + r].deleteCell(j);\n              }\n            }\n          }\n        }\n        // Set rowspan and colspan of the target cell\n        targetCell.rowSpan = rowspan;\n        targetCell.colSpan = colspan;\n      }\n      // tinytable span after\n      window.addEventListener('load', function () {\n          var cellsToStyle = [\n            // tinytable style arrays after\n          { positions: [ { i: 3, j: 0 }, { i: 3, j: 1 }, { i: 3, j: 2 }, { i: 3, j: 3 }, { i: 3, j: 4 }, { i: 3, j: 5 },  ], css_id: 'tinytable_css_1qk7cvir1w1mhsfcv2b5',}, \n          { positions: [ { i: 0, j: 0 }, { i: 0, j: 1 }, { i: 0, j: 2 }, { i: 0, j: 3 }, { i: 0, j: 4 }, { i: 0, j: 5 },  ], css_id: 'tinytable_css_d7zh11ovvcvl263c23i7',}, \n          ];\n\n          // Loop over the arrays to style the cells\n          cellsToStyle.forEach(function (group) {\n              group.positions.forEach(function (cell) {\n                  styleCell_cjknegnhpw50ola5uzmf(cell.i, cell.j, group.css_id);\n              });\n          });\n      });\n    </script>\n\n    <style>\n      /* tinytable css entries after */\n      .table td.tinytable_css_1qk7cvir1w1mhsfcv2b5, .table th.tinytable_css_1qk7cvir1w1mhsfcv2b5 { border-bottom: solid #d3d8dc 0.1em; }\n      .table td.tinytable_css_d7zh11ovvcvl263c23i7, .table th.tinytable_css_d7zh11ovvcvl263c23i7 { border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }\n    </style>\n    <div class=\"container\">\n      <table class=\"table table-borderless\" id=\"tinytable_cjknegnhpw50ola5uzmf\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        \n              <tr>\n                <th scope=\"col\">Metric</th>\n                <th scope=\"col\">Est.</th>\n                <th scope=\"col\">95% CI</th>\n                <th scope=\"col\">80% PI</th>\n                <th scope=\"col\">LPD</th>\n                <th scope=\"col\">SE</th>\n              </tr>\n        </thead>\n        \n        <tbody>\n                <tr>\n                  <td>r</td>\n                  <td>0.40</td>\n                  <td>0.37-0.44</td>\n                  <td>0.20-0.60</td>\n                  <td>0.34</td>\n                  <td>0.09</td>\n                </tr>\n                <tr>\n                  <td>z</td>\n                  <td>0.41</td>\n                  <td>0.37-0.45</td>\n                  <td>0.16-0.61</td>\n                  <td>0.22</td>\n                  <td>0.12</td>\n                </tr>\n                <tr>\n                  <td>Difference</td>\n                  <td></td>\n                  <td></td>\n                  <td></td>\n                  <td>0.12</td>\n                  <td>0.05</td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n<!-- hack to avoid NA insertion in last line -->\n```\n\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](ES-metrics-UW-Stats-2025-10-9_files/figure-revealjs/lpd-contributions-1.png){width=100%}\n:::\n:::\n\n\n:::\n\n::: {.fragment .column width=\"45%\"}\n\n### Outliers\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](ES-metrics-UW-Stats-2025-10-9_files/figure-revealjs/Crede-outliers-1.png){width=100%}\n:::\n:::\n\n\n:::\n::::\n\n## Reliability\n\n## References\n",
    "supporting": [
      "ES-metrics-UW-Stats-2025-10-9_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}